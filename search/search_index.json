{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Kubernetes RBAC can sometimes appear to be black magic. Let's look behind the curtain. Snippets \u00b6 Re-use roles across namespaces \u00b6 Define a cluster role, for example, to view services , using: 1 2 3 4 5 6 7 8 9 10 11 12 apiVersion : rbac.authorization.k8s.io/v1 kind : ClusterRole metadata : name : perm-svc-view rules : - apiGroups : - \"\" resources : - services verbs : - get - list Assign above cluster role to user greta , allowing her to view services in the namespace dev123 using: 1 2 3 4 5 6 7 8 9 10 11 12 13 apiVersion : rbac.authorization.k8s.io/v1 kind : RoleBinding metadata : name : assign-perm-greta-svc-view namespace : dev123 roleRef : apiGroup : rbac.authorization.k8s.io kind : ClusterRole name : perm-svc-view subjects : - apiGroup : rbac.authorization.k8s.io kind : User name : greta Commands \u00b6 Checking for permissions \u00b6 Can the service account dummy create services in the namespace danger ? 1 2 3 4 $ kubectl auth can-i \\ create services \\ --as = system:serviceaccount:danger:dummy \\ --namespace = danger","title":"Home"},{"location":"#snippets","text":"","title":"Snippets"},{"location":"#re-use-roles-across-namespaces","text":"Define a cluster role, for example, to view services , using: 1 2 3 4 5 6 7 8 9 10 11 12 apiVersion : rbac.authorization.k8s.io/v1 kind : ClusterRole metadata : name : perm-svc-view rules : - apiGroups : - \"\" resources : - services verbs : - get - list Assign above cluster role to user greta , allowing her to view services in the namespace dev123 using: 1 2 3 4 5 6 7 8 9 10 11 12 13 apiVersion : rbac.authorization.k8s.io/v1 kind : RoleBinding metadata : name : assign-perm-greta-svc-view namespace : dev123 roleRef : apiGroup : rbac.authorization.k8s.io kind : ClusterRole name : perm-svc-view subjects : - apiGroup : rbac.authorization.k8s.io kind : User name : greta","title":"Re-use roles across namespaces"},{"location":"#commands","text":"","title":"Commands"},{"location":"#checking-for-permissions","text":"Can the service account dummy create services in the namespace danger ? 1 2 3 4 $ kubectl auth can-i \\ create services \\ --as = system:serviceaccount:danger:dummy \\ --namespace = danger","title":"Checking for permissions"}]}